<section class="messages-page">
    <div class="header-info">
        <h2>Съобщения</h2>
    </div>
    <div id="loader" ng-show="timeout"></div>
    <p ng-if="loaded && !messages.length">Нямате получени съобщения!</p>
    <!-- <p>Когато получите съобщение, то ще се покаже тук.</p> -->

    <!-- Company table -->
    <table class="messages table" ng-if="user.role === 'COMPANY'">
        <thead>
            <tr>
                <th>Дата</th>
                <th>Съобщение</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="msg in messages">
                <td>{{msg.date | date}}</td>
                <td><strong>{{msg.candidate.name}}</strong> кандидатства по вашата обява - <a href="/advert/{{msg.advertId}}">{{msg.advertTitle}}</a></td>
            </tr>
        </tbody>
    </table>

    <!-- Admin table -->
    <table class="table" ng-if="user.role === 'ADMIN'">
        <thead>
            <tr>
                <th>Подател</th>
                <th>Дата</th>
                <th>Текст</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="msg in messages" ng-class="{ 'table-primary': !msg.isRead }">
                <td>{{msg.email}}</td>
                <td>{{msg.date | date}}</td>
                <td>{{msg.msg}}</td>
                <td><a href="/message/{{msg.id}}">Покажи</a></td>
            </tr>
        </tbody>
    </table>
</section>