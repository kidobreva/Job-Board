<div id="loader" ng-if="timeout"></div>
<!-- User -->
<div ng-if="loaded && $root.user.role !== 'COMPANY'" class="profile-page">
  <section class="user-profile">
    <div class="user-info">
        <!-- Picture -->
        <div class="profile-picture">
            <img ng-src="{{$root.user.img}}">
        </div>

        <!-- Upload picture -->
        <label for="select">Прикачване на снимка</label>
        <input type=button ng-click="getFile.simulate()" id="select" class="btn btn-primary" value="Избери файл" /><p></p>
        <input id="choose" hidden onchange="angular.element(this).scope().isChosen()" type="file" class="upload" name="file"/>
        <label ng-show="chosen" id="selected"></label>
        <button ng-if="chosen" class="btn btn-success" ng-click="uploadPicture()">Прикачи</button>

        <!-- Info panel -->
        <div class="info-panel">
            <p>Име: {{ $root.user.firstName + ' ' + $root.user.lastName }}</p>
            <p>E-mail: {{ $root.user.email }}</p>
            <p>Регистриран на: {{ $root.user.registeredDate | date }}</p>
        </div>
    </div>

    <div class="profil-controll">
        <div class="page-options">
            <strong>Настройки на профила</strong>
        </div>
        <div class="options">
            <span><a href="/myCV">Моите CV - та</a> [{{ $root.user.cv.length }}]</span>
            <a href="/myCV">Покажи</a>
        </div>
        <div class="options">
            <span><a href="/favourites">Наблюдавани обяви</a> [{{ $root.user.favourites.length }}]</span>
            <a href="/">Покажи</a>
        </div>
        <div class="options">
            <span><a href="/">Къде сте кандидатствали</a> [{{ $root.user.applied.length }}]</span>
            <a href="/">Покажи</a>
        </div>
        <div class="options">
            <span><a href="/updateProfile">Настрoйки на профила</a></span>
            <a href="/updateProfile">Покажи</a>
        </div>
    </div>
</section>
</div>

<!-- Company -->
<div ng-if="loaded && $root.user.role === 'COMPANY'" class="profile-page">
    <section class="company-profile">
        <div class="company-info">
            <!-- Picture -->
            <div class="company-picture">
                <img ng-src="{{$root.user.img}}">
            </div>

            <!-- Upload picture -->
            <label for="select">Прикачване на снимка</label>
            <input type=button ng-click="getFile.simulate()" id="select" class="btn btn-primary" value="Избери файл" /><p></p>
            <input id="choose" hidden onchange="angular.element(this).scope().isChosen()" type="file" class="upload" name="file"/>
            <label ng-show="chosen" id="selected"></label>
            <button ng-if="chosen" class="btn btn-success" ng-click="uploadPicture()">Прикачи</button>

            <!-- Info panel -->
            <div class="info-panel">
                <p>Име: {{ $root.user.title }}</p>
                <p>E-mail: {{ $root.user.email }}</p>
                <p>Регистриран на: {{ $root.user.registeredDate | date }}</p>
            </div>
        </div>

        <div class="profil-controll">
            <div class="page-options">
                <strong>Настройки на профила</strong>
            </div>
            <div class="options">
                <span><a href="/add-advert">Добави обява</a></span>
                <a href="/add-advert">Покажи</a>
            </div>
            <div class="options">
                <span><a href="/adverts/1">Публикувани обяви</a> [{{ $root.user.adverts.length }}]</span>
                <a href="/adverts/1">Покажи</a>
            </div>
            <div class="options">
                <span><a href="/">Съобщения</a> [{{ $root.user.notifications.length }}]</span>
                <a href="/">Покажи</a>
            </div>
            <div class="options">
                <span><a href="/updateProfile">Настрoйки на профила</a></span>
                <a href="/updateProfile">Покажи</a>
            </div>
        </div>
    </section>
</div>
